###### :cactus:  MongoDB_lecture


ìš°ë¦¬ëŠ” MongoDB Community Server ë¥¼ ì´ìš©í•œ ê²ƒìž…ë‹ˆë‹¤ ì•„ëž˜ì˜ ë§í¬ë¥¼ í´ë¦­í•´ì„œ ë¡œì»¬ì— ì„¤ì¹˜í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.
## MongoDB ì„¤ì¹˜ë°©ë²• (mac ë²„ì „ìž…ë‹ˆë‹¤ )

- https://www.mongodb.com/try/download/community    
( ë˜ëŠ” https://www.mongodb.com/  > Products í´ë¦­ > Community Server í´ë¦­ )
- Version, Platform , Packageë¥¼ ë³¸ì¸ì—ê²Œ ë§žê²Œ ì„ íƒí•˜ì„¸ìš” 
- Download ë²„íŠ¼ í´ë¦­ (msi íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ í•©ë‹ˆë‹¤)
- ê·¸ë¦¬ê³  ì„¤ì¹˜í™”ë©´ì„ ë”°ë¼ ì§„í–‰í•©ë‹ˆë‹¤. 
- ì„¤ì¹˜ê°€ ë˜ì—ˆë‹¤ë©´ ìœˆë„ìš° ì‚¬ìš©ìžëŠ” 3. ðŸ“Ž ìœ¼ë¡œ ë„˜ì–´ê°€ì„¸ìš”  
- Macì—ì„œ ì„¤ì¹˜ì‹œ 'í™•ì¸ë˜ì§€ ì•Šì€ ê°œë°œìž'ë¡œ ë‚˜ì˜¤ë©´ì„œ ì„¤ì¹˜ê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì‚¬ê³¼ > ì‹œìŠ¤í…œì„¤ì • > ê°œì¸ì •ë³´ ë³´í˜¸ ë° ë³´ì•ˆ > ë³´ì•ˆ : App Store ë¡œ ë°”ê¿”ì„œ ì‹¤í–‰í•˜ì„¸ìš”

- ```/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)" ``` 
- ìœ„ì˜ ë‚´ìš©ì„ ì‹¤í–‰í•˜ê³  ë¹„ë²ˆê³¼ ê³„ì†í•˜ë ¤ë©´ Enterë¥¼ ìž…ë ¥í•˜ë¼ê³  ë‚˜ì˜µë‹ˆë‹¤. Enterë¥¼ í•˜ê³  ìž ì‹œê¸°ë‹¤ë¦¬ë©´  "Next steps:"ë¼ê³  í•˜ë©´ì„œ í„°ë¯¸ë„ì—ì„œ 2ê°œì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ PATHì— ì¶”ê°€í•˜ë¼ê³  í•©ë‹ˆë‹¤.  
ì´ ë¶€ë¶„ì´ ìž˜ í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¯¸ í„°ë¯¸ë„ì°½ì— ìžˆì„ ê²ƒìž…ë‹ˆë‹¤. ê·¸ê³³ì—ì„œ ``` vi ~/.zshrc  ``` ì—”í„°   
ê·¸ëŸ¼ viíŽ¸ì§‘ê¸°ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤  ë‹¹í™©í•˜ì§€ë§ê³  ì•ŒíŒŒë²³  ```  e ```  íŽ¸ì§‘ëª…ë ¹ì„ ì¤ë‹ˆë‹¤. í˜¹ì‹œ ì‚½ìž…ì„ í• ë•ŒëŠ” ```i ```ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤  
ê·¸ë¦¬ê³  ë¹„ìŠ·í•œ path ê°€ ìžˆëŠ” ë¶€ë¶„ì„ ì°¾ì•„ ê·¸ê³³ì— ê³µê°„ì„ ë§Œë“¤ê³     
```    
HOMEBREW_HOME = ì—¬ê¸°ì— í„°ë¯¸ë„ì°½ì— ë‚˜ì˜¨ ê²½ë¡œë¥¼ ì ì–´ì¤ë‹ˆë‹¤
MYSQL_HOME = /usr/local/mysql
export PATH=${PATH}:${HOMEBREW_HOME}/bin:${MYSQL_HOME}/bin
```  
ì„ ìž…ë ¥í•©ë‹ˆë‹¤. escë¥¼ í•œë²ˆ í´ë¦­í•˜ê³  ``` :wq ```ë¥¼ ì—°ë‹¬ì•„ ëˆ„ë¦…ë‹ˆë‹¤. ê·¸ëŸ¼ ì €ìž¥í•˜ê³  ë¹ ì ¸ë‚˜ì˜¤ê²Œ ë©ë‹ˆë‹¤.  

- ìž˜ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸°ìœ„í•´ ``` brew -v ```  ìˆ«ìžê°€ ë‚˜ì˜¤ë©´ ìž˜ ëœê²ƒìž…ë‹ˆë‹¤. ì´ì œ mongoDBë¥¼ ì„¤ì¹˜í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. 
1. brew tap mongodb/brew
2. brew install mongodb-community    
3. mongosh ì—”í„° ðŸ“Ž   
ì‹¤í–‰ë˜ë©´ ê²€ì •í™”ë©´ì— ë…¸ëž€ìƒ‰ ì¤„ë¬´ëŠ¬ì™€ í•¨ê»˜ ``` test> ``` ê°€ ë‚˜ì˜µë‹ˆë‹¤ 
<img width="273" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-03-23 á„‹á…©á„’á…® 9 45 28" src="https://user-images.githubusercontent.com/48478079/227207744-7ee146d5-628c-44e5-af66-8d9f3ea17aad.png">   
ì—¬ê¸°ê¹Œì§€ëŠ” shell ë°©ì‹ìœ¼ë¡œ ì„¤ì¹˜ë¥¼ í•œê²ƒìž…ë‹ˆë‹¤     


MongoDBëŠ” ìžë°”ìŠ¤í¬ë¦½íŠ¸ í”Œëž«í¼ì„ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— ì¼ë°˜ í„°ë¯¸ë„ì—ì„œ ì•„ëž˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤.
``` 
test> for(var i=0; i<3; i++) {print("i=" + i)} 
test> let name ="Hong gil dong"
test> name
```


ì•„ëž˜ì™€ ê°™ì´ ì‹¤í–‰í•´ë´…ë‹ˆë‹¤. defaultì¸ê²ƒì´ ì¶œë ¥ë©ë‹ˆë‹¤.   ë””ë¹„ë¥¼ ë³´ì—¬ë‹¬ë¼ê³  í• ë•Œ useë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
```
test> show dbs 
admin
config
local
```
ë””ë¹„ë¥¼ ë§Œë“¤ê±°ë‚˜ ì‚¬ìš©í•˜ê³ ìž í• ë•Œ use ëª…ë ¹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.  
ì•„ëž˜ì˜ ì˜ˆë¥¼ ë³´ì‹œê¸° ë°”ëžë‹ˆë‹¤.   
```
test> use mydb
mydb> db
```   
ë°©ê¸ˆ mydbë¼ëŠ” ë””ë¹„ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.  í˜„ìž¬ ì‚¬ìš© ì¤‘ì¸ ë””ë¹„ë¥¼ ì•Œë ¤ë©´ dbë¼ê³  ìž…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤. 

ìž, ì—¬ê¸°ì„œ ì •ë¦¬ë¥¼ í•˜ìžë©´,  

```  
test> cls - í„°ë¯¸ë„í™”ë©´ì„ ì§€ìš¸ë•Œ 
test> show dbs - í˜„ìž¬ ë””ë¹„ë“¤ì„ ë³´ì—¬ì¤ë‹ˆë‹¤ 
test> use mydb - dbë¥¼ ìƒì„±í–ˆë‹¤ê³  ìƒê°ë˜ì§€ë§Œ 
mydb> show dbs - mydbê°€ ëª©ë¡ì— ì—†ìŠµë‹ˆë‹¤. 
mydb> db - í˜„ìž¬ ì‚¬ìš©ì¤‘ì¸ ë””ë¹„ë¥¼ í™•ì¸í–ˆì„ë•Œ mydbê°€ ì¶œë ¥ë˜ì§€ë§Œ ì§„ì§œ ìƒì„±ëœê²ƒì€ ì•„ë‹™ë‹ˆë‹¤ 
ìµœì†Œ 1ê°œì´ìƒì˜ documentê°€ ì¶”ê°€ë˜ì–´ì•¼ ê·¸ë•Œ ì§„ì§œ ìƒì„±ë˜ëŠ” ê²ƒìž…ë‹ˆë‹¤.   

mydb> db.ì½œë ‰ì…˜ì´ë¦„.insert() - insert() ëª…ë ¹ì„ ì‚¬ìš©í•´ì„œ ë¬¸ì„œë¥¼ ìƒì„±í•˜ë©´ ë””ë¹„ì™€ collectionì´ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.
ì´ë ‡ê²Œ ìž…ë ¥í•˜ê³  ë‚œí›„ ì•„ëž˜ì™€ ê°™ì€ acknowledged:true ê°€ ë‚˜ì˜¤ë©´ ìƒì„±ì´ ë˜ì—ˆë‹¤ëŠ” ëœ»ìž…ë‹ˆë‹¤. 
{
  acknowledged: true,
  insertedIds: { '0': ObjectId("641ef51108f43add046642b8") }
}
ì´ë•Œ collectionë„ ìƒì„±ë©ë‹ˆë‹¤  ì½œë ‰ì…˜ì˜ ì´ë¦„ì„ booksë¼ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤. 

mydb> db.books.insert({ title: "The Lord of Rings", author: "Lee", price: 100 } )
mydb> show dbs - ëª©ë¡ì— mydbê°€ ë³´ìž…ë‹ˆë‹¤ 

# ê¸°ì¡´ì˜ ë°©ì‹ì²˜ëŸ¼ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  í…Œì´ë¸”ì„ ë§Œë“¤ê³  ë°ì´í„°ë¥¼ ë„£ì€ ê²ƒì´ ì•„ë‹ˆë¼ 
ì´ë¯¸ ì¡´ìž¬í•˜ì§€ ì•Šì€ ì½œë ‰ì…˜ì¼ì§€ë¼ë„ ë°ì´í„°ë¥¼ ì£¼ë©´ì„œ ì»¬ë ‰ì…˜ì´ë¦„ì„ ì£¼ë©´ ë°ì´í„°ë¥¼ ìž…ë ¥í•˜ë©´ì„œ ì»¬ë ‰ì…˜ì´ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤. 


mydb> db.getCollectionNames() - í˜„ìž¬ ë””ë¹„ì˜ collection ì´ë¦„ ì•Œì•„ë‚´ê¸° ['books']ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.
mydb> db.books.drop() - í˜„ìž¬ ë””ë¹„ì˜ collection ì‚­ì œí• ë•Œ ì½œë ‰ì…˜ì„ ì ìŠµë‹ˆë‹¤ 
mydb> db.getCollectionNames() - []ê°€ ë‚˜ì˜µë‹ˆë‹¤.
mydb> db.dropDatabase() - í˜„ìž¬ ë””ë¹„ì‚­ì œ 
{ ok: 1, dropped: 'mydb' }

mydb> í”„ë¡¬í”„íŠ¸ì— 'mydb' ë¼ê³  ì—¬ì „ížˆ ë‚˜ì˜¤ì§€ë§Œ 
mydb> show dbs - mydbê°€ ëª©ë¡ì— ì—†ìŠµë‹ˆë‹¤
mydb> help <- ìž…ë ¥í•˜ë©´ ëª…ë ¹ì–´ì— ëŒ€í•œ ì„¤ëª…ì„ ë³¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. 
mydb> exit <- mongosh ìƒíƒœì—ì„œ  ë¹ ì €ë‚˜ê°€ê¸°ê°€ ë©ë‹ˆë‹¤ 
```    
ì£¼ì˜í•˜ì„¸ìš”ðŸ“     
ëª½ê³ ë””ë¹„ëŠ” ë°ì´íƒ€ë² ì´ìŠ¤ì˜ ì´ë¦„ì„ ìž˜ëª»ì ì–´ë„ ì—ëŸ¬ë©”ì‹œì§€ëŒ€ì‹  í”„ë¡¬í”„íŠ¸ì— ê·¸ëŒ€ë¡œ ë°˜ì˜ë˜ì–´ ë‚˜ì˜µë‹ˆë‹¤. ìŠ¤íŽ ë§ì²´í¬ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤ 
